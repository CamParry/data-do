class DataDo{init(){document.querySelectorAll("[data-do]").forEach(t=>{let e=t.getAttribute("data-do").split("|");e.forEach(e=>{let s=this.getCommand(t,e);s&&this.handleCommand(s)})})}handleCommand(t){t.element.addEventListener(t.trigger.name,e=>{(!t.trigger.params||!this.triggers[t.trigger.name]||this.triggers[t.trigger.name]?.(e,t.trigger.params))&&t.targets.forEach(e=>{this.actions[t.action.name]?.(e,...t.action.params)})})}getCommand(t,e){let s=e.match(/(?:[^\:']+|'[^']*')+/g);return!s||s.length<3?null:s.length>3?{element:this.getElement(s[0]),trigger:this.getTrigger(s[1]),targets:this.getTargets(t,s[2]),action:this.getAction(s[3])}:{element:t,trigger:this.getTrigger(s[0]),targets:this.getTargets(t,s[1]),action:this.getAction(s[2])}}getElement(t){return this.elements[t]??document.querySelector(t)}getTrigger(t){return this.getNameAndParams(t)}getTargets(t,e){return this.targets[e]?.(t)??Array.from(document.querySelectorAll(e))}getAction(t){return this.getNameAndParams(t)}getNameAndParams(t){let e=t.split("("),s=e[0],i=e[1]?e[1].replace(")","").split(",").map(this.stripQuotes):[];return{name:s,params:i}}stripQuotes(t){return t.replace(/'/g,"")}elements={window:window,win:window,document:document,doc:document};triggers={keydown:(t,e)=>t.key===e[0]};targets={this:t=>[t],next:t=>[t.nextElementSibling],prev:t=>[t.previousElementSibling],parent:t=>[t.parentElement],children:t=>Array.from(t.children),firstChild:t=>[t.firstElementChild],lastChild:t=>[t.lastElementChild],console:t=>[console]};actions={disable:t=>t.disabled=!0,enable:t=>t.disabled=!1,toggleDisable:t=>t.disabled=!t.disabled,submit:t=>t.submit(),toggleShow:t=>t.style.display="none"===t.style.display?"":"none",show:t=>t.style.display="",hide:t=>t.style.display="none",addClass:(t,e)=>t.classList.add(e),removeClass:(t,e)=>t.classList.remove(e),toggleClass:(t,e)=>t.classList.toggle(e),fadeIn(t,...e){let s=e[0]??250;t.style.transition="opacity "+s+"ms ease-out",t.style.opacity=1},fadeOut(t,...e){let s=e[0]??250;t.style.transition="opacity "+s+"ms ease-out",t.style.opacity=0},collapse(t,...e){let s=e[0]??250,i=t.offsetHeight;t.style.height=i+"px",t.offsetHeight,t.style.transition="all "+s+"ms ease-out",t.style.height=0},expand(t,...e){let s=e[0]??250;t.style.height="auto",t.style.transition="none";let i=t.offsetHeight;t.style.height=0,t.style.transition="all "+s+"ms ease-out",t.offsetHeight,t.style.height=i+"px",setTimeout(()=>{t.style.height="auto"},s)},toggleCollapse:(t,...e)=>0===t.offsetHeight?this.expand(t,...e):this.collapse(t,...e),scrollToTop:()=>window.scrollTo({top:0,behavior:"smooth"}),scrollTo:t=>t.scrollIntoView({behavior:"smooth"}),setAttribute(t,...e){let s=e[0],i=e[1];t.setAttribute(s,i)},removeAttribute(t,...e){let s=e[0];t.removeAttribute(s)},toggleAttribute(t,...e){let s=e[0];t.hasAttribute(s)?t.removeAttribute(s):t.setAttribute(s,"")},setActive:t=>t.classList.add("active"),removeActive:t=>t.classList.remove("active"),toggleActive:t=>t.classList.toggle("active"),setHref:(t,...e)=>t.href=e[0],setSrc:(t,...e)=>t.src=e[0],log:(t,...e)=>t.log(e)}}document.addEventListener("DOMContentLoaded",function(){let t=new DataDo;t.init()});