class DataDo{elementMap={window:window,win:window,document:document,doc:document};triggerMap={keydown:(t,e)=>t.key===e[0]};actionMap={disable:this.disable,enable:this.enable,toggleDisable:this.toggleDisable,submit:this.submit,toggleShow:this.toggleShow,show:this.show,hide:this.hide,expand:this.expand,collapse:this.collapse,toggleCollapse:this.toggleCollapse,addClass:this.addClass,removeClass:this.removeClass,toggleClass:this.toggleClass,fadeIn:this.fadeIn,fadeOut:this.fadeOut,collapse:this.collapse,expand:this.expand,toggleCollapse:this.toggleCollapse,scrollToTop:this.scrollToTop,scrollTo:this.scrollTo,setAttribute:this.setAttribute,removeAttribute:this.removeAttribute,toggleAttribute:this.toggleAttribute,setActive:this.setActive,removeActive:this.removeActive,toggleActive:this.toggleActive,setHref:this.setHref,setSrc:this.setSrc,log:this.log};init(){document.querySelectorAll("[data-do]").forEach(t=>{let e=t.getAttribute("data-do").split("|");e.forEach(e=>{let s=this.getCommand(t,e);s&&this.initCommand(s)})})}initCommand(t){t.element.addEventListener(t.trigger.name,e=>{(!t.trigger.params||!this.triggerMap[t.trigger.name]||this.triggerMap[t.trigger.name]?.(e,t.trigger.params))&&t.targets.forEach(e=>{this.actionMap[t.action.name]?.(e,...t.action.params)})})}stripQuotes(t){return t.replace(/'/g,"")}getCommand(t,e){let s=e.match(/(?:[^\:']+|'[^']*')+/g);return!s||s.length<3?null:s.length>3?{element:this.getElement(s[0]),trigger:this.getTrigger(s[1]),targets:this.getTargets(t,s[2]),action:this.getAction(s[3])}:{element:t,trigger:this.getTrigger(s[0]),targets:this.getTargets(t,s[1]),action:this.getAction(s[2])}}getElement(t){return"window"===t||"win"===t?window:"document"===t||"doc"===t?document:document.querySelector(t)}getTrigger(t){let e=t.split("("),s=e[0],i=[];return e[1]&&(i=e[1].replace(")","").split(",").map(this.stripQuotes)),{name:s,params:i}}getTargets(t,e){return"this"===e?[t]:"next"===e?[t.nextElementSibling]:"prev"===e?[t.previousElementSibling]:"parent"===e?[t.parentElement]:"children"===e?Array.from(t.children):"first-child"===e?[t.firstElementChild]:"last-child"===e?[t.lastElementChild]:"console"===e?[console]:Array.from(document.querySelectorAll(e))}getAction(t){let e=t.split("("),s=e[0],i=[];return e[1]&&(i=e[1].replace(")","").split(",").map(this.stripQuotes)),{name:s,params:i}}disable(t){t.disabled=!0}enable(t){t.disabled=!1}toggleDisable(t){t.disabled=!t.disabled}submit(t){t.submit()}toggleShow(t){t.style.display="none"===t.style.display?"":"none"}show(t){t.style.display=""}hide(t){t.style.display="none"}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}toggleClass(t,e){t.classList.toggle(e)}fadeIn(t,...e){let s=e[0]??250;t.style.transition="opacity "+s+"ms ease-out",t.style.opacity=1}fadeOut(t,...e){let s=e[0]??250;t.style.transition="opacity "+s+"ms ease-out",t.style.opacity=0}collapse(t,...e){let s=e[0]??250,i=t.offsetHeight;t.style.height=i+"px",t.offsetHeight,t.style.transition="all "+s+"ms ease-out",t.style.height=0}expand(t,...e){let s=e[0]??250;t.style.height="auto",t.style.transition="none";let i=t.offsetHeight;t.style.height=0,t.style.transition="all "+s+"ms ease-out",t.offsetHeight,t.style.height=i+"px",setTimeout(()=>{t.style.height="auto"},s)}toggleCollapse(t,...e){0===t.offsetHeight?this.expand(t,...e):this.collapse(t,...e)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}scrollTo(t){t.scrollIntoView({behavior:"smooth"})}setAttribute(t,...e){let s=e[0],i=e[1];t.setAttribute(s,i)}removeAttribute(t,...e){let s=e[0];t.removeAttribute(s)}toggleAttribute(t,...e){let s=e[0];t.hasAttribute(s)?t.removeAttribute(s):t.setAttribute(s,"")}setActive(t){t.classList.add("active")}removeActive(t){t.classList.remove("active")}toggleActive(t){t.classList.toggle("active")}log(t,...e){t.log(e)}setHref(t,...e){t.href=e[0]}setSrc(t,...e){t.src=e[0]}}document.addEventListener("DOMContentLoaded",function(){let t=new DataDo;t.init()});